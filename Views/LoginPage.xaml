<?xml version="1.0" encoding="utf-8" ?>
<views:BasePage
    BackgroundColor="{AppThemeBinding Light={StaticResource Light},
                                      Dark={StaticResource Gray950}}"
    Shell.NavBarIsVisible="False"
    Title="Login"
    x:Class="AcuPuntos.Views.LoginPage"
    x:DataType="viewmodels:LoginViewModel"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:viewmodels="clr-namespace:AcuPuntos.ViewModels"
    xmlns:views="clr-namespace:AcuPuntos.Views"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <Grid>
        <!--  Fondo con gradiente  -->
        <BoxView>
            <BoxView.Background>
                <LinearGradientBrush EndPoint="1,1" StartPoint="0,0">
                    <GradientStop Color="{StaticResource PrimaryDark}" Offset="0.0" />
                    <GradientStop Color="{StaticResource Primary}" Offset="1.0" />
                </LinearGradientBrush>
            </BoxView.Background>
        </BoxView>

        <!--  Contenido principal  -->
        <ScrollView>
            <VerticalStackLayout
                Padding="32"
                Spacing="32"
                VerticalOptions="Center">

                <!--  Logo/Icono  -->
                <Border
                    BackgroundColor="{AppThemeBinding Light={StaticResource Surface},
                                                      Dark={StaticResource Gray900}}"
                    HeightRequest="128"
                    HorizontalOptions="Center"
                    StrokeShape="RoundRectangle 64"
                    StrokeThickness="0"
                    WidthRequest="128">
                    <Border.Shadow>
                        <Shadow
                            Brush="Black"
                            Offset="0,4"
                            Opacity="0.2"
                            Radius="16" />
                    </Border.Shadow>
                    <Label
                        FontSize="64"
                        HorizontalOptions="Center"
                        Text=""
                        VerticalOptions="Center" />
                </Border>

                <!--  T铆tulo de la App  -->
                <VerticalStackLayout Spacing="8">
                    <Label
                        FontAttributes="Bold"
                        FontFamily="OpenSansBold"
                        FontSize="40"
                        HorizontalOptions="Center"
                        Text="AcuPuntos"
                        TextColor="White">
                        <Label.Shadow>
                            <Shadow
                                Brush="Black"
                                Offset="0,2"
                                Opacity="0.2"
                                Radius="4" />
                        </Label.Shadow>
                    </Label>

                    <!--  Subt铆tulo  -->
                    <Label
                        FontSize="16"
                        HorizontalOptions="Center"
                        HorizontalTextAlignment="Center"
                        Text="{Binding SubtitleMessage}"
                        TextColor="{AppThemeBinding Light={StaticResource Gray200},
                                                    Dark={StaticResource Gray400}}" />
                </VerticalStackLayout>

                <!--  Card de Login  -->
                <Border
                    BackgroundColor="{AppThemeBinding Light={StaticResource Surface},
                                                      Dark={StaticResource Gray900}}"
                    Margin="0,16"
                    Padding="32"
                    StrokeShape="RoundRectangle 24"
                    StrokeThickness="0">
                    <Border.Shadow>
                        <Shadow
                            Brush="Black"
                            Offset="0,8"
                            Opacity="0.15"
                            Radius="24" />
                    </Border.Shadow>
                    <VerticalStackLayout Spacing="24">

                        <!--  Mensaje de bienvenida  -->
                        <VerticalStackLayout Spacing="8">
                            <Label
                                FontAttributes="Bold"
                                FontSize="24"
                                HorizontalOptions="Center"
                                Text="{Binding WelcomeMessage}"
                                TextColor="{AppThemeBinding Light={StaticResource Gray900},
                                                            Dark={StaticResource White}}" />

                            <Label
                                FontSize="15"
                                HorizontalOptions="Center"
                                HorizontalTextAlignment="Center"
                                Text="Inicia sesi贸n para comenzar a acumular y canjear tus puntos"
                                TextColor="{AppThemeBinding Light={StaticResource Gray500},
                                                            Dark={StaticResource Gray400}}" />
                        </VerticalStackLayout>

                        <!--  Separador  -->
                        <BoxView
                            Color="{AppThemeBinding Light={StaticResource Gray200},
                                                    Dark={StaticResource Gray700}}"
                            HeightRequest="1"
                            Margin="0,8" />

                        <!--  Bot贸n de Google Sign In  -->
                        <Button
                            BackgroundColor="White"
                            BorderColor="{StaticResource Gray300}"
                            BorderWidth="1"
                            Command="{Binding SignInWithGoogleCommand}"
                            CornerRadius="12"
                            FontAttributes="Bold"
                            FontSize="16"
                            HeightRequest="56"
                            Margin="4"
                            Text="Iniciar sesi贸n con Google"
                            TextColor="{StaticResource Gray900}">
                            <Button.ImageSource>
                                <FileImageSource File="google_logo.png" />
                            </Button.ImageSource>
                            <Button.Shadow>
                                <Shadow
                                    Brush="Black"
                                    Offset="0,2"
                                    Opacity="0.1"
                                    Radius="4" />
                            </Button.Shadow>
                        </Button>

                        <!--  Indicador de carga  -->
                        <ActivityIndicator
                            Color="{StaticResource Primary}"
                            HorizontalOptions="Center"
                            IsRunning="{Binding IsBusy}"
                            IsVisible="{Binding IsBusy}" />

                    </VerticalStackLayout>
                </Border>

                <!--  Informaci贸n adicional  -->
                <VerticalStackLayout Margin="0,16,0,0" Spacing="16">
                    <HorizontalStackLayout HorizontalOptions="Center" Spacing="12">
                        <Label FontSize="18" Text="" />
                        <Label
                            FontSize="15"
                            Text="Obt茅n 100 puntos de bienvenida"
                            TextColor="White"
                            VerticalOptions="Center" />
                    </HorizontalStackLayout>

                    <HorizontalStackLayout HorizontalOptions="Center" Spacing="12">
                        <Label FontSize="18" Text="" />
                        <Label
                            FontSize="15"
                            Text="Acumula puntos en cada sesi贸n"
                            TextColor="White"
                            VerticalOptions="Center" />
                    </HorizontalStackLayout>

                    <HorizontalStackLayout HorizontalOptions="Center" Spacing="12">
                        <Label FontSize="18" Text="" />
                        <Label
                            FontSize="15"
                            Text="Canjea por incre铆bles recompensas"
                            TextColor="White"
                            VerticalOptions="Center" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</views:BasePage>
